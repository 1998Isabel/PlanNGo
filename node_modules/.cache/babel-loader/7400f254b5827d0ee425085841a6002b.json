{"ast":null,"code":"var _jsxFileName = \"/Users/isabel/Desktop/PlanNGo/src/components/ScheduleCard.js\";\nimport React, { Component } from 'react';\nimport clsx from 'clsx';\nimport socketIOClient from \"socket.io-client\";\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Collapse from '@material-ui/core/Collapse';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport RestaurantIcon from '@material-ui/icons/Restaurant';\nimport LocateIcon from '@material-ui/icons/LocationCity';\nimport SaveIcon from '@material-ui/icons/Save';\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { Draggable } from 'react-beautiful-dnd';\nimport '../App.css';\nimport { Mutation } from 'react-apollo';\nimport { DELETE_ITEM, UPDATE_ITEM_INFO } from '../graphql';\nvar details = null; // export default function SimpleCard() {\n\nclass SimpleCard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleExpandClick = () => {\n      const expand = this.state.expanded;\n      this.setState({\n        expanded: !expand\n      });\n    };\n\n    this.handleExpandOpen = detail => {\n      const expand2 = this.state.expanded2;\n      details = detail;\n      this.setState({\n        expanded2: true\n      });\n    };\n\n    this.handleExpandClose = detail => {\n      const expand2 = this.state.expanded2;\n      details = detail;\n      this.setState({\n        expanded2: false\n      });\n    };\n\n    this.handleDeleteClick = () => {\n      console.log(\"Delete\");\n      this.props.socket.emit(\"resetRoute\", \"reset from delete\");\n      this.deleteItem({\n        variables: {\n          userid: this.props.user,\n          itemId: this.props.id,\n          columnId: this.props.colid\n        }\n      });\n    };\n\n    this.handleSaveClick = () => {\n      this.updateItemInfo({\n        variables: {\n          userid: this.props.user,\n          itemid: this.props.id,\n          description: this.state.note,\n          price: parseInt(this.state.price),\n          duration: parseInt(this.state.duration)\n        }\n      });\n    };\n\n    this.handleChange = name => event => {\n      // console.log(name, event.target.value)\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.handleCardClick = () => {\n      this.props.socket.emit(\"cardclick\", this.props.id);\n    };\n\n    this.showtypeicon = () => {\n      if (this.props.place.type === \"eat\") return React.createElement(RestaurantIcon, {\n        color: \"secondary\",\n        style: {\n          float: \"left\",\n          marginRight: \"10\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      });else if (this.props.place.type === \"star\") return React.createElement(FavoriteIcon, {\n        color: \"secondary\",\n        style: {\n          float: \"left\",\n          marginRight: \"10\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      });else if (this.props.place.type === \"live\") return React.createElement(LocateIcon, {\n        color: \"secondary\",\n        style: {\n          float: \"left\",\n          marginRight: \"10\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      });\n    };\n\n    this.showdetail = () => {\n      console.log(\"CARE DETAIL\", details);\n      console.log(this.state.expanded2);\n\n      if (details) {\n        // this.handleExpand2();\n        return \"Distance: \" + details.distance + \" Duration: \" + details.duration;\n      }\n    };\n\n    this.state = {\n      expanded: false,\n      expanded2: false,\n      anchorEl: null,\n      note: this.props.place.description,\n      price: this.props.place.price + \"\",\n      duration: this.props.place.duration + \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.props.socket.on(\"getRouteDetail\", data => {\n      if (data) {\n        console.log(data, this.props.id);\n        const detail = data.details.find(ele => ele.id === this.props.id);\n\n        if (detail) {\n          this.handleExpandOpen(detail);\n        }\n      }\n    });\n    this.props.socket.on(\"resetDirect\", data => {\n      console.log(\"Reset Route\", data);\n      this.handleExpandClose(null);\n    });\n  }\n\n  render() {\n    const place = this.props.place;\n    return React.createElement(Draggable, {\n      draggableId: this.props.id,\n      index: this.props.index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, provided => React.createElement(Card, Object.assign({\n      className: \"test-card-root\"\n    }, provided.dragHandleProps, provided.draggableProps, {\n      ref: provided.innerRef,\n      onClick: this.handleCardClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }), React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(Mutation, {\n      mutation: DELETE_ITEM,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, deleteItem => {\n      console.log(\"Mutation deleteItem\");\n      this.deleteItem = deleteItem;\n      return React.createElement(Typography, {\n        variant: \"h5\",\n        component: \"h5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, this.showtypeicon(), place.name);\n    }), React.createElement(Typography, {\n      color: \"textSecondary\",\n      align: \"center\",\n      display: \"inline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Staying time:\", React.createElement(TextField, {\n      className: \"test-card-textfield\",\n      defaultValue: place.duration,\n      margin: \"none\",\n      inputProps: {\n        'aria-label': 'duration',\n        className: \"test-card-duration-field\"\n      },\n      style: {\n        width: '20%',\n        height: \"10\"\n      },\n      onChange: this.handleChange('duration'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), \"hr\", React.createElement(IconButton, {\n      className: clsx(\"test-expand\", {\n        \"test-expandOpen\": this.state.expanded\n      }),\n      onClick: this.handleExpandClick,\n      \"aria-expanded\": this.state.expanded,\n      \"aria-label\": \"Show more\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(ExpandMoreIcon, {\n      className: \"test-iconSmall\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    })), React.createElement(IconButton, {\n      className: \"test-card-delete\",\n      color: \"inherit\",\n      \"aria-label\": \"Delete\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(DeleteOutlinedIcon, {\n      className: \"test-iconSmall\",\n      onClick: this.handleDeleteClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    })))), React.createElement(Collapse, {\n      in: this.state.expanded,\n      timeout: \"auto\",\n      unmountOnExit: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"outlined-dense-multiline\",\n      label: \"Write Some Note Here\",\n      className: \"test-card-dense test-card-textfield\",\n      margin: \"dense\",\n      variant: \"outlined\",\n      multiline: true,\n      rowsMax: \"4\",\n      defaultValue: place.description,\n      style: {\n        width: '100%'\n      },\n      onChange: this.handleChange('note'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"test-but-root\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      id: \"outlined-dense-multiline\",\n      label: \"Expected Expense\",\n      className: \"test-card-dense test-card-textfield\",\n      margin: \"dense\",\n      variant: \"outlined\",\n      defaultValue: place.price,\n      style: {\n        width: '80%'\n      },\n      onChange: this.handleChange('price'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }), React.createElement(Mutation, {\n      mutation: UPDATE_ITEM_INFO,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, updateItemInfo => {\n      console.log(\"Mutation updateItemInfo\");\n      this.updateItemInfo = updateItemInfo;\n      return React.createElement(Tooltip, {\n        title: \"Save note and expense\",\n        placement: \"bottom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        className: \"test-button\",\n        \"aria-label\": \"Save\",\n        onClick: this.handleSaveClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(SaveIcon, {\n        className: clsx(\"test-leftIcon\", \"test-iconSmall\"),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      })));\n    })))), React.createElement(Collapse, {\n      in: this.state.expanded2,\n      timeout: \"auto\",\n      unmountOnExit: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      paragraph: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, this.showdetail())))));\n  }\n\n}\n\nexport default SimpleCard;","map":{"version":3,"sources":["/Users/isabel/Desktop/PlanNGo/src/components/ScheduleCard.js"],"names":["React","Component","clsx","socketIOClient","Card","CardActions","CardContent","Collapse","Button","Typography","IconButton","ExpandMoreIcon","FavoriteIcon","RestaurantIcon","LocateIcon","SaveIcon","DeleteOutlinedIcon","TextField","Tooltip","Draggable","Mutation","DELETE_ITEM","UPDATE_ITEM_INFO","details","SimpleCard","constructor","props","handleExpandClick","expand","state","expanded","setState","handleExpandOpen","detail","expand2","expanded2","handleExpandClose","handleDeleteClick","console","log","socket","emit","deleteItem","variables","userid","user","itemId","id","columnId","colid","handleSaveClick","updateItemInfo","itemid","description","note","price","parseInt","duration","handleChange","name","event","target","value","handleCardClick","showtypeicon","place","type","float","marginRight","showdetail","distance","anchorEl","componentDidMount","on","data","find","ele","render","index","provided","dragHandleProps","draggableProps","innerRef","className","width","height"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport clsx from 'clsx';\nimport socketIOClient from \"socket.io-client\";\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Collapse from '@material-ui/core/Collapse';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport RestaurantIcon from '@material-ui/icons/Restaurant';\nimport LocateIcon from '@material-ui/icons/LocationCity';\nimport SaveIcon from '@material-ui/icons/Save';\nimport DeleteOutlinedIcon from '@material-ui/icons/DeleteOutlined';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\n\nimport { Draggable } from 'react-beautiful-dnd';\nimport '../App.css';\nimport { Mutation } from 'react-apollo'\nimport { DELETE_ITEM, UPDATE_ITEM_INFO } from '../graphql';\n\nvar details = null\n\n// export default function SimpleCard() {\nclass SimpleCard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      expanded: false,\n      expanded2: false,\n      anchorEl: null,\n      note: this.props.place.description,\n      price: this.props.place.price + \"\",\n      duration: this.props.place.duration + \"\",\n    }\n  }\n  componentDidMount() {\n    this.props.socket.on(\"getRouteDetail\", (data) => {\n      if (data) {\n        console.log(data, this.props.id)\n        const detail = data.details.find(ele => (ele.id === this.props.id))\n        if (detail) {\n          this.handleExpandOpen(detail)\n        }\n      }\n    })\n    this.props.socket.on(\"resetDirect\", (data) => {\n      console.log(\"Reset Route\", data)\n      this.handleExpandClose(null)\n    })\n  }\n  handleExpandClick = () => {\n    const expand = this.state.expanded\n    this.setState({ expanded: !expand });\n  }\n  handleExpandOpen = (detail) => {\n    const expand2 = this.state.expanded2\n    details = detail\n    this.setState({ expanded2: true });\n  }\n  handleExpandClose = (detail) => {\n    const expand2 = this.state.expanded2\n    details = detail\n    this.setState({ expanded2: false });\n  }\n  handleDeleteClick = () => {\n    console.log(\"Delete\")\n    this.props.socket.emit(\"resetRoute\", \"reset from delete\")\n    this.deleteItem({\n      variables: {\n        userid: this.props.user,\n        itemId: this.props.id,\n        columnId: this.props.colid\n      }\n    })\n  }\n  handleSaveClick = () => {\n    this.updateItemInfo({\n      variables: {\n        userid: this.props.user,\n        itemid: this.props.id,\n        description: this.state.note,\n        price: parseInt(this.state.price),\n        duration: parseInt(this.state.duration),\n      }\n    })\n  }\n  handleChange = name => event => {\n    // console.log(name, event.target.value)\n    this.setState({ [name]: event.target.value });\n  };\n  handleCardClick = () => {\n    this.props.socket.emit(\"cardclick\", this.props.id)\n  }\n  showtypeicon = () => {\n    if (this.props.place.type === \"eat\")\n      return (\n        <RestaurantIcon color=\"secondary\" style={{ float: \"left\", marginRight: \"10\" }} />\n      )\n    else if (this.props.place.type === \"star\")\n      return (\n        <FavoriteIcon color=\"secondary\" style={{ float: \"left\", marginRight: \"10\" }} />\n      )\n    else if (this.props.place.type === \"live\")\n      return (\n        <LocateIcon color=\"secondary\" style={{ float: \"left\", marginRight: \"10\" }} />\n      )\n  }\n  showdetail = () => {\n    console.log(\"CARE DETAIL\", details)\n    console.log(this.state.expanded2)\n    if (details) {\n      // this.handleExpand2();\n      return (\n        \"Distance: \" + details.distance + \" Duration: \" + details.duration\n      )\n    }\n  }\n  render() {\n    const { place } = this.props;\n\n    return (\n      <Draggable draggableId={this.props.id} index={this.props.index}>\n        {provided => (\n          <Card className=\"test-card-root\" {...provided.dragHandleProps}\n            {...provided.draggableProps}\n            ref={provided.innerRef}\n            onClick={this.handleCardClick}\n          >\n            <CardContent>\n              <Mutation mutation={DELETE_ITEM}>{\n                deleteItem => {\n                  console.log(\"Mutation deleteItem\");\n                  this.deleteItem = deleteItem;\n\n                  return (\n                    <Typography variant=\"h5\" component=\"h5\">\n                      {this.showtypeicon()}\n                      {place.name}\n                    </Typography>\n                  );\n\n                }\n              }</Mutation>\n              <Typography color=\"textSecondary\" align=\"center\" display=\"inline\">\n                Staying time:\n                <TextField\n                  className=\"test-card-textfield\"\n                  defaultValue={place.duration}\n                  margin=\"none\"\n                  inputProps={{ 'aria-label': 'duration', className: \"test-card-duration-field\" }}\n                  style={{ width: '20%', height: \"10\" }}\n                  onChange={this.handleChange('duration')}\n                />\n                hr\n                <IconButton\n                  className={clsx(\"test-expand\", {\n                    \"test-expandOpen\": this.state.expanded,\n                  })}\n                  onClick={this.handleExpandClick}\n                  aria-expanded={this.state.expanded}\n                  aria-label=\"Show more\"\n                >\n                  <ExpandMoreIcon className=\"test-iconSmall\" />\n                </IconButton>\n                <IconButton className=\"test-card-delete\" color=\"inherit\" aria-label=\"Delete\">\n                  <DeleteOutlinedIcon className=\"test-iconSmall\" onClick={this.handleDeleteClick} />\n                </IconButton>\n              </Typography>\n            </CardContent>\n            <Collapse in={this.state.expanded} timeout=\"auto\" unmountOnExit>\n              <CardContent>\n                {/* <Typography paragraph>Note:</Typography>\n                      <Typography paragraph>\n                        {place.note}\n                      </Typography> */}\n\n                <TextField\n                  id=\"outlined-dense-multiline\"\n                  label=\"Write Some Note Here\"\n                  className=\"test-card-dense test-card-textfield\"\n                  margin=\"dense\"\n                  variant=\"outlined\"\n                  multiline\n                  rowsMax=\"4\"\n                  defaultValue={place.description}\n                  style={{ width: '100%' }}\n                  onChange={this.handleChange('note')}\n                />\n                <div className=\"test-but-root\">\n\n                  <TextField\n                    id=\"outlined-dense-multiline\"\n                    label=\"Expected Expense\"\n                    className=\"test-card-dense test-card-textfield\"\n                    margin=\"dense\"\n                    variant=\"outlined\"\n                    defaultValue={place.price}\n                    style={{ width: '80%' }}\n                    onChange={this.handleChange('price')}\n                  />\n                  <Mutation mutation={UPDATE_ITEM_INFO}>{\n                    updateItemInfo => {\n                      console.log(\"Mutation updateItemInfo\");\n                      this.updateItemInfo = updateItemInfo;\n\n                      return (\n                        <Tooltip title=\"Save note and expense\" placement=\"bottom\">\n                          <IconButton className=\"test-button\" aria-label=\"Save\" onClick={this.handleSaveClick}>\n                            <SaveIcon className={clsx(\"test-leftIcon\", \"test-iconSmall\")} />\n                          </IconButton>\n                        </Tooltip>\n                      );\n                    }\n                  }\n                  </Mutation>\n                </div>\n              </CardContent>\n            </Collapse>\n            <Collapse in={this.state.expanded2} timeout=\"auto\" unmountOnExit>\n              <CardContent>\n                <Typography paragraph>\n                  {this.showdetail()}\n                </Typography>\n              </CardContent>\n            </Collapse>\n          </Card>)}\n      </Draggable>\n\n    );\n  }\n}\nexport default SimpleCard;"]},"metadata":{},"sourceType":"module"}