{"ast":null,"code":"import _slicedToArray from \"/Users/isabel/Desktop/PlanNGo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/isabel/Desktop/PlanNGo/src/containers/Header.js\";\nimport React from 'react';\nimport './../App.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Query, Mutation } from 'react-apollo';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Popover from '@material-ui/core/Popover';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport FlightIcon from '@material-ui/icons/Flight';\nimport PrintIcon from '@material-ui/icons/Print'; // import SaveIcon from '@material-ui/icons/Save';\n\nimport TodayIcon from '@material-ui/icons/Today';\nimport MyDayPick from './../components/MyDayPick';\nimport { PROJECT_NAME, UPDATE_DATE } from '../graphql';\nimport { withRouter } from 'react-router-dom';\n\nvar pdfMake = require('pdfmake/build/pdfmake.js');\n\nvar pdfFonts = require('pdfmake/build/vfs_fonts.js');\n\npdfMake.vfs = pdfFonts.pdfMake.vfs;\npdfMake.fonts = {\n  msjh: {\n    normal: 'msjh.ttf',\n    bold: 'msjh.ttf',\n    italics: 'msjh.ttf',\n    bolditalics: 'msjh.ttf'\n  }\n};\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1\n  },\n  menuButton: {\n    marginRight: theme.spacing(2)\n  },\n  title: {\n    flexGrow: 1\n  },\n  bar: {\n    background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)'\n  }\n}));\n\nfunction Header(props) {\n  const classes = useStyles();\n\n  const _React$useState = React.useState(null),\n        _React$useState2 = _slicedToArray(_React$useState, 2),\n        anchorEl = _React$useState2[0],\n        setAnchorEl = _React$useState2[1];\n\n  props.socket.on('pdfDefinition', docDefinition => {\n    console.log(\"client side pdfDefinition\");\n    console.log(docDefinition);\n    pdfMake.createPdf(docDefinition).open();\n  });\n\n  function handleDateClick(event) {\n    setAnchorEl(event.currentTarget);\n  }\n\n  function handleDateClose() {\n    setAnchorEl(null);\n  }\n\n  function handlePdfClick() {\n    console.log(\"handlePdfClick!\");\n    props.socket.emit('pdfclick', props.user);\n  }\n\n  const onLogout = () => {\n    sessionStorage.clear();\n    props.history.push(\"/\");\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? 'simple-popover' : null;\n  const userID = props.user;\n  let updatedate = null;\n\n  function handleDateSummit(days) {\n    console.log(days);\n    console.log(updatedate);\n    props.socket.emit(\"resetRoute\", \"reset from drag\");\n    updatedate({\n      variables: {\n        userid: userID,\n        days: days\n      }\n    });\n  }\n\n  return React.createElement(Query, {\n    query: PROJECT_NAME,\n    variables: {\n      userID\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, ({\n    loading,\n    error,\n    data,\n    subscribeToMore\n  }) => {\n    if (error) return React.createElement(\"div\", {\n      id: \"left_schedule\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, \"error\");\n    if (loading) return React.createElement(\"div\", {\n      id: \"left_schedule\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"loading...\");\n    return React.createElement(\"div\", {\n      className: classes.root,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(AppBar, {\n      variant: \"dense\",\n      position: \"relative\",\n      className: classes.bar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Toolbar, {\n      variant: \"dense\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(FlightIcon, {\n      className: classes.menuButton,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(Typography, {\n      variant: \"h6\",\n      className: classes.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, data.users.projectName), React.createElement(IconButton, {\n      className: classes.menuButton,\n      color: \"inherit\",\n      \"aria-label\": \"Print\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(TodayIcon, {\n      onClick: handleDateClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(Popover, {\n      id: id,\n      open: open,\n      anchorEl: anchorEl,\n      onClose: handleDateClose,\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      transformOrigin: {\n        vertical: 'top',\n        horizontal: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Mutation, {\n      mutation: UPDATE_DATE,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, updateDate => {\n      updatedate = updateDate;\n      return React.createElement(MyDayPick, {\n        InNewProject: false,\n        user: userID,\n        onClick: handleDateSummit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      });\n    }))), React.createElement(IconButton, {\n      className: classes.menuButton,\n      color: \"inherit\",\n      \"aria-label\": \"Print\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(PrintIcon, {\n      onClick: handlePdfClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    })), React.createElement(Button, {\n      onClick: onLogout,\n      color: \"inherit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Logout\"))));\n  });\n}\n\nexport default withRouter(Header);","map":{"version":3,"sources":["/Users/isabel/Desktop/PlanNGo/src/containers/Header.js"],"names":["React","makeStyles","Query","Mutation","AppBar","Toolbar","Typography","Popover","Button","IconButton","MenuIcon","FlightIcon","PrintIcon","TodayIcon","MyDayPick","PROJECT_NAME","UPDATE_DATE","withRouter","pdfMake","require","pdfFonts","vfs","fonts","msjh","normal","bold","italics","bolditalics","useStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","bar","background","Header","props","classes","useState","anchorEl","setAnchorEl","socket","on","docDefinition","console","log","createPdf","open","handleDateClick","event","currentTarget","handleDateClose","handlePdfClick","emit","user","onLogout","sessionStorage","clear","history","push","Boolean","id","userID","updatedate","handleDateSummit","days","variables","userid","loading","error","data","subscribeToMore","users","projectName","vertical","horizontal","updateDate"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './../App.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Query, Mutation } from 'react-apollo'\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Popover from '@material-ui/core/Popover';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport FlightIcon from '@material-ui/icons/Flight';\nimport PrintIcon from '@material-ui/icons/Print';\n// import SaveIcon from '@material-ui/icons/Save';\nimport TodayIcon from '@material-ui/icons/Today';\nimport MyDayPick from './../components/MyDayPick'\nimport { PROJECT_NAME, UPDATE_DATE } from '../graphql'\nimport {withRouter} from 'react-router-dom'\nvar pdfMake = require('pdfmake/build/pdfmake.js');\nvar pdfFonts = require('pdfmake/build/vfs_fonts.js');\npdfMake.vfs = pdfFonts.pdfMake.vfs;\npdfMake.fonts = {\n  msjh: {\n    normal: 'msjh.ttf',\n    bold: 'msjh.ttf',\n    italics: 'msjh.ttf',\n    bolditalics: 'msjh.ttf',\n}\n}\n\n\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n  bar: {\n    background: 'linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)'\n  }\n}));\n\nfunction Header(props) {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  \n  props.socket.on('pdfDefinition', (docDefinition)=>{\n    console.log(\"client side pdfDefinition\")\n    console.log(docDefinition);\n    pdfMake.createPdf(docDefinition).open();\n  })\n\n  function handleDateClick(event) {\n    setAnchorEl(event.currentTarget);\n  }\n\n  function handleDateClose() {\n    setAnchorEl(null);\n  }\n\n  function handlePdfClick() {\n    console.log(\"handlePdfClick!\");\n    props.socket.emit('pdfclick', props.user);\n  }\n\n  const onLogout = () => {\n    sessionStorage.clear()\n    props.history.push(\"/\")\n  }\n\n  const open = Boolean(anchorEl);\n  const id = open ? 'simple-popover' : null;\n\n  const userID = props.user\n\n  let updatedate = null\n  function handleDateSummit(days) {\n    console.log(days)\n    console.log(updatedate)\n    props.socket.emit(\"resetRoute\", \"reset from drag\")\n    updatedate({\n      variables: {\n        userid: userID,\n        days: days\n      }\n    })\n  }\n\n  return (\n    <Query query={PROJECT_NAME} variables={{ userID }}>{({ loading, error, data, subscribeToMore }) => {\n      if (error) return <div id=\"left_schedule\">error</div>\n      if (loading) return <div id=\"left_schedule\">loading...</div>\n      return (\n        <div className={classes.root}>\n          <AppBar variant=\"dense\" position=\"relative\" className={classes.bar}>\n            <Toolbar variant=\"dense\">\n              <FlightIcon className={classes.menuButton}/>\n              <Typography variant=\"h6\" className={classes.title}>\n                {data.users.projectName}\n              </Typography>\n              <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Print\">\n                <TodayIcon onClick={handleDateClick} />\n                <Popover\n                  id={id}\n                  open={open}\n                  anchorEl={anchorEl}\n                  onClose={handleDateClose}\n                  anchorOrigin={{\n                    vertical: 'bottom',\n                    horizontal: 'center',\n                  }}\n                  transformOrigin={{\n                    vertical: 'top',\n                    horizontal: 'center',\n                  }}\n                >\n                  <Mutation mutation={UPDATE_DATE}>{\n                    updateDate => {\n                      updatedate = updateDate\n                      return (\n                        <MyDayPick InNewProject={false} user={userID} onClick={handleDateSummit} />\n                      )\n                    }\n                  }</Mutation>\n                </Popover>\n              </IconButton>\n                <IconButton className={classes.menuButton} color=\"inherit\" aria-label=\"Print\">\n                <PrintIcon onClick={handlePdfClick}/>\n              </IconButton>\n              <Button onClick={onLogout} color=\"inherit\">Logout</Button>\n            </Toolbar>\n          </AppBar>\n        </div>\n      );\n    }}</Query>\n  )\n}\n\nexport default withRouter(Header);"]},"metadata":{},"sourceType":"module"}